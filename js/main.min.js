/* RAMs <https://github.com/jacobxperez/rams>
 * Copyright (C) 2022 Jacob Perez <jacobxperez@gmx.com>
 * Licensed under the Apache License, Version 2.0
 * http://www.apache.org/licenses/LICENSE-2.0
------------------------------------------------------------------------------*/
document.addEventListener("DOMContentLoaded",()=>{if("localhost"===location.hostname||"127.0.0.1"===location.hostname)var baseUrl=window.location.origin;else var baseUrl=window.location.origin+"/blog";(()=>{const navUrl=baseUrl+"/templates/nav.html";fetch(`${navUrl}`).then(response=>response.text()).then(html=>{let parser=new DOMParser,getFooter=document.querySelector('[data-navbar="top"]'),doc,template,clone=parser.parseFromString(html,"text/html").getElementById("navTemplate").content.cloneNode(!0);getFooter.appendChild(clone)}).catch(err=>{console.log("Error: faild to catch template",err)}).finally(()=>{dropDown(),smoothScroll()})})(),(()=>{const footerUrl=baseUrl+"/templates/footer.html";fetch(`${footerUrl}`).then(response=>response.text()).then(html=>{let parser=new DOMParser,getFooter=document.querySelector('[data-section="footer"]'),doc,template,clone=parser.parseFromString(html,"text/html").getElementById("footerTemplate").content.cloneNode(!0);getFooter.appendChild(clone)}).catch(err=>{console.log("Error: faild to catch template",err)})})();const dropDown=()=>{const getToggle=document.querySelectorAll("[data-toggle]"),getPop=document.querySelectorAll('[data-toggle="pop"]'),getToolTip=document.querySelectorAll("[data-tooltip]");for(let i=0;i<getToggle.length;i++)getToggle[i].addEventListener("click",(function(e){!1===this.hasAttribute("data-state","active")?this.setAttribute("data-state","active"):!0===this.hasAttribute("data-state","active")&&this.removeAttribute("data-state"),e.stopPropagation()}));for(let i=0;i<getToolTip.length;i++)getToolTip[i].addEventListener("click",(function(e){!1===this.hasAttribute("data-state","active")?this.setAttribute("data-state","active"):!0===this.hasAttribute("data-state","active")&&this.removeAttribute("data-state"),e.stopPropagation()}));document.addEventListener("click",(function(e){for(let i=0;i<getPop.length;i++)e.target!==getPop[i]&&getPop[i].removeAttribute("data-state");for(let i=0;i<getToolTip.length;i++)e.target!==getToolTip[i]&&getToolTip[i].removeAttribute("data-state")}))},smoothScroll=()=>{const intLinks=document.querySelectorAll("a[href^='#']");for(let i=0;i<intLinks.length;i++)intLinks[i].addEventListener("click",(function(e){e.preventDefault(),document.querySelector(this.getAttribute("href")).scrollIntoView({behavior:"smooth"})}))}});
